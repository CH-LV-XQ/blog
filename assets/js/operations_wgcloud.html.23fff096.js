"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[8590],{6262:(s,i)=>{i.A=(s,i)=>{const e=s.__vccOpts||s;for(const[s,a]of i)e[s]=a;return e}},6823:(s,i,e)=>{e.r(i),e.d(i,{comp:()=>r,data:()=>p});var a=e(641);const n=e.p+"assets/img/agent-properties.adcf18f9.png",l=e.p+"assets/img/wgcloud-login-img.ca61692e.png",t={},r=(0,e(6262).A)(t,[["render",function(s,i){const e=(0,a.g2)("font");return(0,a.uX)(),(0,a.CE)("div",null,[i[3]||(i[3]=(0,a.Fv)('<h1 id="wgcloud监控系统" tabindex="-1"><a class="header-anchor" href="#wgcloud监控系统"><span>WGCLOUD监控系统</span></a></h1><p>WGCLOUD包括：server为服务端（或主控端），agent为客户端（探针端、被控端），server和agent可以部署在同一个主机</p><p>WGCLOUD的server和agent，可以部署在已有业务运行的主机，不要求主机是纯净的操作系统。当然了，纯净的系统也可以部署WGCLOUD</p><p>server端一般只部署一个就行，所有agent向这个server单向上报监控数据</p><h2 id="部署环境要求" tabindex="-1"><a class="header-anchor" href="#部署环境要求"><span>部署环境要求</span></a></h2><blockquote><p>1、JDK 环境</p></blockquote><p>server所在主机需要JDK环境（JDK1.8、JDK11都可以），OpenJDK也可以，更高版本JDK也支持，一般推荐使用JDK1.8或JDK11</p><p>因server使用java开发，所以server所在主机需要JDK环境，如已安装则跳过</p><p>如下命令，检测是否安装JDK，输出类似下面结果，说明已安装。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@VM-0-14-centos ~]# java -version</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">java</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;1.8.0_152&quot;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Java(TM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SE Runtime Environment (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1.8.0_152-b16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Java</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HotSpot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">TM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">64-Bit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> VM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (build </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">25.152-b16,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mixed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>2、数据库</p></blockquote><p>server需要数据库来存贮数据</p><p>支持MySQL、MariaDB、PostgreSQL、Oracle、SQL Server这五种数据库，选择其中任一种作为数据源即可，如果已安装则跳过</p><p>也支持国产数据库 PolarDB、openGauss、OceanBase、Kingbase、万里数据库、达梦数据库等，</p><blockquote><p>3、Agent</p></blockquote><p>agent所在主机不需要JDK、不需要JDK、不需要JDK</p><ul><li>agent所在主机不需要JDK及其他依赖，解压后可直接启动运行</li><li>agent对linux要求为：内核版本2.6.23或更高，CentOS/RHEL 6.0以上</li><li>agent对windows要求为：Windows Server 2008 R2，2012，2016，2019，2022，Windows 7，Windows 8，Windows 10，Windows 11</li></ul><p>不管是server还是agent，都不需要编译，都是解压后，就可以启动运行了，不会污染已有的系统任何功能和文件</p><h2 id="下载安装包" tabindex="-1"><a class="header-anchor" href="#下载安装包"><span>下载安装包</span></a></h2><p><strong>Linux平台</strong> (amd64或x86_64，包含server和agent)：<a href="https://www.wgstart.com/download/3.5.8/wgcloud-v3.5.8.tar.gz" target="_blank" rel="noopener noreferrer">wgcloud-v3.5.8.tar.gz</a> 120M BMD5: 066e1181393285b536527d1411eeff78</p><p><strong>Windows平台</strong> (amd64或x86_64，包含server和agent)：<a href="https://www.wgstart.com/download/3.5.8/wgcloud-v3.5.8.zip" target="_blank" rel="noopener noreferrer">wgcloud-v3.5.8.zip</a> 120MB</p><p><a href="https://www.wgstart.com/help/docs15.html" target="_blank" rel="noopener noreferrer">agent安装包单独下载 (如Windows、Linux、ARM、MAC、MIPS、Android等版本) </a></p><p><a href="https://www.wgstart.com/help/docs60.html" target="_blank" rel="noopener noreferrer">其他说明，如何在ARM系统架构等平台部署server程序 </a></p><h2 id="初始化数据库" tabindex="-1"><a class="header-anchor" href="#初始化数据库"><span>初始化数据库</span></a></h2><p>数据库使用MySQL，版本5.6或以上就可以，MySQL 8也支持，也可以用PostgreSQL和Oracle，SQLServer</p>',25)),(0,a.Lk)("p",null,[i[1]||(i[1]=(0,a.eW)("创建数据库，名称为")),(0,a.bF)(e,{color:"red"},{default:(0,a.k6)((()=>i[0]||(i[0]=[(0,a.Lk)("strong",null,"wgcloud",-1)]))),_:1}),i[2]||(i[2]=(0,a.eW)("，字符集设置为UTF-8 Unicode即可"))]),i[4]||(i[4]=(0,a.Fv)('<p>导入对应的sql脚本，sql文件在安装包里，解压后可以看到，在sql文件夹下</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入安装包目录  如：/opt/wgcloud/</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wgcloud-v3.5.8.tar.gz</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># sql文件</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/opt/wgcloud/wgcloud-v3.5.8/sql/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>根据对应数据库执行SQL文件，完成数据表初始化。</p><h2 id="启动server" tabindex="-1"><a class="header-anchor" href="#启动server"><span>启动Server</span></a></h2><blockquote><p>1、修改项目数据库连接信息</p></blockquote><p>文件位置 /opt/wgcloud/wgcloud-v3.5.8/server/config/application.yml</p><blockquote><p>2、启动 server</p></blockquote><p>注意：Linux检查下面红框内的文件是否有可执行权限，若无，则赋给可执行权限</p><p>./start.sh启动服务，./stop.sh停止服务</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入 server 目录</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/wgcloud/wgcloud-v3.5.8/server</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 执行启动命令</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./start.sh</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 输出以下日志</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./wgcloud-server-release.jar</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wgcloud-server程序开始启动</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./wgcloud-daemon-release</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wgcloud-daemon程序开始启动</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>3、启动 agent</p></blockquote><ul><li>修改配置文件</li></ul><p>注意，/opt/wgcloud/wgcloud-v3.5.8/agent/config/application.properties的serverUrl需要改成server主机的IP和端口 <img src="'+n+'" alt="agent-properties.png" loading="lazy"></p><p>注意：Linux检查下面红框内的文件是否有可执行权限，若无，则赋给可执行权限</p><p>./start.sh启动服务，./stop.sh停止服务</p><ul><li>启动</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入agent目录</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/wgcloud/wgcloud-v3.5.8/agent</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 启动</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./start.sh</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 输出以下日志</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./wgcloud-agent-release</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wgcloud-agent程序开始启动</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="访问" tabindex="-1"><a class="header-anchor" href="#访问"><span>访问</span></a></h2><p>访问地址：<a href="http://127.0.0.1:9999" target="_blank" rel="noopener noreferrer">http://127.0.0.1:9999</a></p><p>默认登录账号密码：admin/111111</p><p>最后，要注意把server主机的9999要开放给agent主机访问，使agent主机能telnet通9999即可</p><figure><img src="'+l+'" alt="wgcloud-login-img.png" tabindex="0" loading="lazy"><figcaption>wgcloud-login-img.png</figcaption></figure><h2 id="参考文档" tabindex="-1"><a class="header-anchor" href="#参考文档"><span>参考文档</span></a></h2><p><a href="https://www.wgstart.com/docs13.html" target="_blank" rel="noopener noreferrer">项目文档</a></p>',24))])}]]),p=JSON.parse('{"path":"/operations/wgcloud.html","title":"WGCLOUD监控系统","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2025-05-23T00:00:00.000Z","category":["WgCloud"],"tag":["监控"],"description":"WGCLOUD监控系统 WGCLOUD包括：server为服务端（或主控端），agent为客户端（探针端、被控端），server和agent可以部署在同一个主机 WGCLOUD的server和agent，可以部署在已有业务运行的主机，不要求主机是纯净的操作系统。当然了，纯净的系统也可以部署WGCLOUD server端一般只部署一个就行，所有agent...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/blog/operations/wgcloud.html"}],["meta",{"property":"og:site_name","content":"博客演示"}],["meta",{"property":"og:title","content":"WGCLOUD监控系统"}],["meta",{"property":"og:description","content":"WGCLOUD监控系统 WGCLOUD包括：server为服务端（或主控端），agent为客户端（探针端、被控端），server和agent可以部署在同一个主机 WGCLOUD的server和agent，可以部署在已有业务运行的主机，不要求主机是纯净的操作系统。当然了，纯净的系统也可以部署WGCLOUD server端一般只部署一个就行，所有agent..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-23T08:23:57.000Z"}],["meta",{"property":"article:tag","content":"监控"}],["meta",{"property":"article:published_time","content":"2025-05-23T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-23T08:23:57.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"WGCLOUD监控系统\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-05-23T00:00:00.000Z\\",\\"dateModified\\":\\"2025-05-23T08:23:57.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Hope\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"部署环境要求","slug":"部署环境要求","link":"#部署环境要求","children":[]},{"level":2,"title":"下载安装包","slug":"下载安装包","link":"#下载安装包","children":[]},{"level":2,"title":"初始化数据库","slug":"初始化数据库","link":"#初始化数据库","children":[]},{"level":2,"title":"启动Server","slug":"启动server","link":"#启动server","children":[]},{"level":2,"title":"访问","slug":"访问","link":"#访问","children":[]},{"level":2,"title":"参考文档","slug":"参考文档","link":"#参考文档","children":[]}],"git":{"createdTime":1747988637000,"updatedTime":1747988637000,"contributors":[{"name":"ch","email":"ch825523424@163.com","commits":1}]},"readingTime":{"minutes":3.14,"words":941},"filePathRelative":"operations/wgcloud.md","localizedDate":"2025年5月23日","excerpt":"\\n<p>WGCLOUD包括：server为服务端（或主控端），agent为客户端（探针端、被控端），server和agent可以部署在同一个主机</p>\\n<p>WGCLOUD的server和agent，可以部署在已有业务运行的主机，不要求主机是纯净的操作系统。当然了，纯净的系统也可以部署WGCLOUD</p>\\n<p>server端一般只部署一个就行，所有agent向这个server单向上报监控数据</p>\\n<h2>部署环境要求</h2>\\n<blockquote>\\n<p>1、JDK 环境</p>\\n</blockquote>\\n<p>server所在主机需要JDK环境（JDK1.8、JDK11都可以），OpenJDK也可以，更高版本JDK也支持，一般推荐使用JDK1.8或JDK11</p>","autoDesc":true}')}}]);